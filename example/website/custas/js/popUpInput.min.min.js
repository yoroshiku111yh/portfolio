var backgroundPopUpEnterCode;var btn_un_confirm;var btn_confirm;function initPopUpEnterCode(){position(containPopUpEnterCode,stageW/2,stageH/2-25*ratio);scale(containPopUpEnterCode,ratio);visible(containPopUpEnterCode,0);backgroundPopUpEnterCode=new PIXI.Sprite.fromImage("asset/bg/content_success.png");anchor(backgroundPopUpEnterCode);ratioOfWidthHeightItem(backgroundPopUpEnterCode,1600);var g=new PIXI.Sprite.fromImage("asset/decorate/inputText.png");anchor(g);ratioOfWidthHeightItem(g,1600);var h=new PIXI.Sprite.fromImage("asset/bg/bg_input.png");anchor(h);ratioOfWidthHeightItem(h,1600);var e=new PIXI.Sprite.fromImage("asset/decorate/btn_replay.png");anchor(e);ratioOfWidthHeightItem(e,1600);btn_un_confirm=new PIXI.Sprite.fromImage("asset/decorate/un_accept.png");anchor(btn_un_confirm);ratioOfWidthHeightItem(btn_un_confirm,1600);btn_confirm=new PIXI.Sprite.fromImage("asset/decorate/btn_confirm_active.png");anchor(btn_confirm);ratioOfWidthHeightItem(btn_confirm,1600);visible(btn_confirm,0);position(h,0,g.height+20);position(e,-e.width/2-5,g.height+20+h.height+20);position(btn_confirm,btn_confirm.width/2+5,g.height+20+h.height+20);position(btn_un_confirm,btn_confirm.width/2+5,g.height+20+h.height+20);e.interactive=true;btn_confirm.interactive=true;e.tap=replayTheGame;e.click=replayTheGame;btn_confirm.tap=activeCode;btn_confirm.on("mousedown",activeCode);var f={readonly:false,maxlength:null,placeholder:"",placeholderColor:"rgba(0,0,0,.5)",selectionColor:"#eeeeee",value:"",type:"text",onsubmit:function(){activeCode()},onkeydown:function(){checkCode()},onkeyup:function(){},onfocus:function(){},onblur:function(){},onmousedown:function(){},onmouseup:function(){},width:h.width-30,height:h.height/2,padding:5,borderColor:"rgba(0,0,0,0)",borderWidth:1,borderRadius:0,backgroundImage:null,backgroundColor:"rgba(0,0,0,0)",backgroundGradient:null,boxShadow:null,innerShadow:null,valign:"middle",align:"left",outline:0,text:{font:"18px Arial",fill:"#702f60"}};inputCode=new PIXI.Input(f);position(inputCode,-h.width/2+10,g.height+4);containPopUpEnterCode.addChild(backgroundPopUpEnterCode);containPopUpEnterCode.addChild(g);containPopUpEnterCode.addChild(h);containPopUpEnterCode.addChild(e);containPopUpEnterCode.addChild(btn_un_confirm);containPopUpEnterCode.addChild(btn_confirm);containPopUpEnterCode.addChild(inputCode);stage.addChild(containPopUpEnterCode)}function activeCode(){var c=inputCode.value;console.log("codeActive: ");if(c.length>0){inputCode.blur();checkContinue=true;activedCode=true;lives=lives+10;nextGame();for(var d=0;d<containPopUpEnterCode.length;d++){containPopUpEnterCode.removeChild(containPopUpEnterCode.children[d])}}}function checkCode(){if(inputCode.value.length>0){visible(btn_un_confirm,0);visible(btn_confirm,1)}};