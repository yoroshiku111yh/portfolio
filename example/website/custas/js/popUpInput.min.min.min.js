var backgroundPopUpEnterCode;var btn_un_confirm;var btn_confirm;function initPopUpEnterCode(){position(containPopUpEnterCode,stageW/2,stageH/2-25*ratio);scale(containPopUpEnterCode,ratio);visible(containPopUpEnterCode,0);backgroundPopUpEnterCode=new PIXI.Sprite.fromImage("asset/bg/content_success.png");anchor(backgroundPopUpEnterCode);ratioOfWidthHeightItem(backgroundPopUpEnterCode,1600);var b=new PIXI.Sprite.fromImage("asset/decorate/inputText.png");anchor(b);ratioOfWidthHeightItem(b,1600);var a=new PIXI.Sprite.fromImage("asset/bg/bg_input.png");anchor(a);ratioOfWidthHeightItem(a,1600);var d=new PIXI.Sprite.fromImage("asset/decorate/btn_replay.png");anchor(d);ratioOfWidthHeightItem(d,1600);btn_un_confirm=new PIXI.Sprite.fromImage("asset/decorate/un_accept.png");anchor(btn_un_confirm);ratioOfWidthHeightItem(btn_un_confirm,1600);btn_confirm=new PIXI.Sprite.fromImage("asset/decorate/btn_confirm_active.png");anchor(btn_confirm);ratioOfWidthHeightItem(btn_confirm,1600);visible(btn_confirm,0);position(a,0,b.height+20);position(d,-d.width/2-5,b.height+20+a.height+20);position(btn_confirm,btn_confirm.width/2+5,b.height+20+a.height+20);position(btn_un_confirm,btn_confirm.width/2+5,b.height+20+a.height+20);d.interactive=true;btn_confirm.interactive=true;d.tap=replayTheGame;d.click=replayTheGame;btn_confirm.tap=activeCode;btn_confirm.on("mousedown",activeCode);var c={readonly:false,maxlength:null,placeholder:"",placeholderColor:"rgba(0,0,0,.5)",selectionColor:"#eeeeee",value:"",type:"text",onsubmit:function(){activeCode()},onkeydown:function(){checkCode()},onkeyup:function(){},onfocus:function(){},onblur:function(){},onmousedown:function(){},onmouseup:function(){},width:a.width-30,height:a.height/2,padding:5,borderColor:"rgba(0,0,0,0)",borderWidth:1,borderRadius:0,backgroundImage:null,backgroundColor:"rgba(0,0,0,0)",backgroundGradient:null,boxShadow:null,innerShadow:null,valign:"middle",align:"left",outline:0,text:{font:"18px Arial",fill:"#702f60"}};inputCode=new PIXI.Input(c);position(inputCode,-a.width/2+10,b.height+4);containPopUpEnterCode.addChild(backgroundPopUpEnterCode);containPopUpEnterCode.addChild(b);containPopUpEnterCode.addChild(a);containPopUpEnterCode.addChild(d);containPopUpEnterCode.addChild(btn_un_confirm);containPopUpEnterCode.addChild(btn_confirm);containPopUpEnterCode.addChild(inputCode);stage.addChild(containPopUpEnterCode)}function activeCode(){var b=inputCode.value;console.log("codeActive: ");if(b.length>0){inputCode.blur();checkContinue=true;activedCode=true;lives=lives+10;nextGame();for(var a=0;a<containPopUpEnterCode.length;a++){containPopUpEnterCode.removeChild(containPopUpEnterCode.children[a])}}}function checkCode(){if(inputCode.value.length>0){visible(btn_un_confirm,0);visible(btn_confirm,1)}};